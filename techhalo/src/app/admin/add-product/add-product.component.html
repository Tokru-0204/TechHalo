<ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h2 class="modal-title m-0">Thêm sản phẩm</h2>
    </div>
    <div class="modal-body p-4">
        <form [formGroup]="postForm" class="row">
            <input type="hidden" formControlName="productId">
            <input type="hidden" formControlName="status">
            <input type="hidden" formControlName="sold">

            <!-- Product Name and Company -->
            <div class="form-group col-6">
                <label for="name">Tên sản phẩm</label>
                <input type="text" id="name" [ngClass]="{'is-invalid':postForm.get('name')?.touched && postForm.get('name')?.invalid}" class="form-control" formControlName="name">
                <small class="invalid-feedback">Tên sản phẩm không hợp lệ</small>
            </div>


            <div class="form-group col-6">
                <label for="supplier">Nhà cung cấp</label>
                <select class="custom-select" id="supplier" formControlName="supplierId" class="form-control">
                    <option *ngFor="let item of suppliers" [value]="item.supplierId">{{item.name}}</option>
                </select>
                <small class="invalid-feedback">Nhà cung cấp không hợp lệ</small>
            </div>

            <div class="form-group col-12">
                <label for="category">Loại hàng</label>
                <select class="custom-select" id="category" formControlName="categoryId" class="form-control">
                    <option *ngFor="let item of categories" [value]="item.categoryId">{{item.categoryName}}</option>
                </select> 
                <small class="invalid-feedback">Loại hàng không hợp lệ</small>
            </div>

        
            <!-- <div class="form-group col-6">
                <label for="discount">Khuyến mãi</label>
                <div class="input-group">
                    <input type="number" id="discount" [ngClass]="{'is-invalid':postForm.get('discount')?.touched && postForm.get('discount')?.invalid}" class="form-control" formControlName="discount">
                    <div class="input-group-append">
                        <span class="input-group-text">%</span>
                    </div>
                    <small class="invalid-feedback">Khuyến mãi không hợp lệ</small>
                </div>
            </div> -->
             <!-- Description -->
        <div class="form-group col-6">
            <label for="description">Mô tả sản phẩm</label>
            <textarea id="description" [ngClass]="{'is-invalid':postForm.get('description')?.touched && postForm.get('description')?.invalid}" class="form-control" rows="12" formControlName="description"></textarea>
            <small class="invalid-feedback">Không hợp lệ</small>
        </div>

          <!-- Product Images Section -->
         <!-- Product Images Section -->
         <div class="form-group col-6 text-center">
            <label>Ảnh sản phẩm</label>
            <!-- Main Image -->
            <div class="text-center">
                <div class="main-image-wrapper">
                    <img [src]="image" class="img-fluid main-image" alt="Ảnh sản phẩm chính">
                </div>
                <div class="custom-file mt-2">
                    <input type="file" class="custom-file-input" id="mainImageFile" (change)="onFileSelect($event, 1)">
                    <label class="custom-file-label form-control" for="mainImageFile">Chọn ảnh chính</label>
                </div>
            </div>
        
            <!-- Additional Images Row Below -->
            <div class="row mt-3 justify-content-center">
                <div class="col-3 text-center" *ngFor="let img of [image2, image3, image4, image5]; let i = index">
                    <div class="image-wrapper">
                        <img [src]="img" class="img-fluid product-thumbnail" alt="Ảnh sản phẩm {{i + 2}}">
                    </div>
                    <div class="custom-file mt-2">
                        <input type="file" class="custom-file-input" id="customFile{{i + 2}}" (change)="onFileSelect($event, i + 2)">
                        <label class="custom-file-label mt form-control" for="customFile{{i + 2}}"></label>
                    </div>
                </div>
            </div>
        </div>

            <!-- Submit Button -->
            <div class="col-2 text-center mt-4">
                <button mat-raised-button color="primary" [disabled]="postForm.invalid" class="form-control" (click)="save()">Thêm</button>
            </div>
        </form>
    </div>
</ng-template>

<button mat-raised-button color="primary"  (click)="open(content)">Thêm sản phẩm</button>
<!-- <button mat-raised-button color="primary" (click)="open(content)">Thêm người dùng</button> -->
