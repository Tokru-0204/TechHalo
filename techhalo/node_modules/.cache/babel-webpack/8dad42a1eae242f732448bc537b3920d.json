{"ast":null,"code":"import { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { Chart, registerables } from 'chart.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services_admin/page.service\";\nimport * as i2 from \"../../services_admin/statistical.service\";\nimport * as i3 from \"@angular/material/table\";\nimport * as i4 from \"@angular/material/sort\";\nimport * as i5 from \"@angular/material/paginator\";\nfunction InventoryComponent_Admin_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 23);\n  }\n}\nfunction InventoryComponent_Admin_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24);\n    i0.ɵɵelement(1, \"img\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", row_r12.image, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction InventoryComponent_Admin_th_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 26);\n    i0.ɵɵtext(1, \"M\\u00E3 s\\u1EA3n ph\\u1EA9m\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction InventoryComponent_Admin_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r13.codeProduct);\n  }\n}\nfunction InventoryComponent_Admin_th_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 27);\n    i0.ɵɵtext(1, \"T\\u00EAn s\\u1EA3n ph\\u1EA9m\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction InventoryComponent_Admin_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r14.normalPart);\n  }\n}\nfunction InventoryComponent_Admin_th_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 28);\n    i0.ɵɵtext(1, \"S\\u1ED1 l\\u01B0\\u1EE3ng c\\u00F2n trong kho\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction InventoryComponent_Admin_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r15.quantity);\n  }\n}\nfunction InventoryComponent_Admin_th_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 29);\n    i0.ɵɵtext(1, \"Lo\\u1EA1i s\\u1EA3n ph\\u1EA9m\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction InventoryComponent_Admin_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r16.category.categoryName);\n  }\n}\nfunction InventoryComponent_Admin_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 30);\n  }\n}\nfunction InventoryComponent_Admin_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 31);\n  }\n}\nconst _c0 = function () {\n  return [10, 25, 50, 100];\n};\nexport let InventoryComponent_Admin = /*#__PURE__*/(() => {\n  class InventoryComponent_Admin {\n    constructor(pageService, statisticalService) {\n      this.pageService = pageService;\n      this.statisticalService = statisticalService;\n      this.columns = ['image', 'productId', 'name', 'quantity', 'category'];\n      this.labels = [];\n      this.data = [];\n    }\n    ngOnInit() {\n      this.pageService.setPageActive('inventory');\n      this.getAll();\n      Chart.register(...registerables);\n    }\n    getAll() {\n      this.statisticalService.getInventory().subscribe(data => {\n        this.products = data;\n        this.listData = new MatTableDataSource(this.products);\n        this.listData.sort = this.sort;\n        this.listData.paginator = this.paginator;\n        for (let i = 0; i < 10; i++) {\n          const name = this.products[i].name.trim();\n          const indexOfSlash = name.indexOf('/');\n          if (indexOfSlash !== -1) {\n            this.products[i].normalPart = name.substring(0, indexOfSlash).trim();\n            const lastSpaceIndex = this.products[i].normalPart.lastIndexOf(' ');\n            this.products[i].normalPart = name.substring(0, lastSpaceIndex).trim();\n            this.products[i].styledPart = name.substring(lastSpaceIndex).trim();\n          } else {\n            this.products[i].normalPart = name;\n            this.products[i].styledPart = '';\n          }\n          this.labels.push(this.products[i].normalPart);\n          this.data.push(this.products[i].quantity);\n        }\n        this.loadChartBar();\n      }, error => {\n        console.log(error);\n      });\n    }\n    loadChartBar() {\n      this.myChartBar = new Chart('chart', {\n        type: 'bar',\n        data: {\n          labels: this.labels,\n          datasets: [{\n            // label: '# of Votes',\n            data: this.data,\n            // borderColor: 'rgb(75, 192, 192)',\n            // pointBorderColor: 'rgba(54, 162, 235, 0.2)',\n            // backgroundColor: 'rgba(255, 99, 132, 0.2)',\n            backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)', 'rgba(255, 159, 64, 0.2)', 'rgba(201, 203, 207, 0.2)', 'rgba(0, 162, 71, 0.2)', 'rgba(82, 0, 36, 0.2)', 'rgba(82, 164, 36, 0.2)', 'rgba(255, 158, 146, 0.2)', 'rgba(123, 39, 56, 0.2)'],\n            borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)', 'rgba(201, 203, 207, 1)', 'rgba(0, 162, 71, 1)', 'rgba(82, 0, 36, 1)', 'rgba(82, 164, 36, 1)', 'rgba(255, 158, 146, 1)', 'rgba(123, 39, 56, 1)'],\n            borderWidth: 1\n          }]\n        },\n        options: {\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          },\n          plugins: {\n            legend: {\n              display: false\n            }\n          }\n        }\n      });\n    }\n  }\n  InventoryComponent_Admin.ɵfac = function InventoryComponent_Admin_Factory(t) {\n    return new (t || InventoryComponent_Admin)(i0.ɵɵdirectiveInject(i1.PageService), i0.ɵɵdirectiveInject(i2.StatisticalService));\n  };\n  InventoryComponent_Admin.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InventoryComponent_Admin,\n    selectors: [[\"app-inventory\"]],\n    viewQuery: function InventoryComponent_Admin_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatSort, 5);\n        i0.ɵɵviewQuery(MatPaginator, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    decls: 31,\n    vars: 7,\n    consts: [[1, \"container-fluid\"], [1, \"d-sm-flex\", \"align-items-center\", \"justify-content-between\", \"mb-4\"], [1, \"h3\", \"mb-0\", \"text-gray-800\"], [1, \"row\"], [1, \"col-6\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"image\"], [\"mat-header-cell\", \"\", \"style\", \"width: 8%;\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"productId\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", \"style\", \"width: 10%;\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"name\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", \"style\", \"width: 25%;\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"quantity\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", \"style\", \"width: 19%;\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"category\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", \"style\", \"width: 16%;\", 4, \"matHeaderCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 3, \"length\", \"pageSize\", \"pageSizeOptions\"], [1, \"col-6\", \"m-auto\"], [\"id\", \"divChart\", 2, \"width\", \"95%\", \"margin-left\", \"2%\"], [\"id\", \"chart\"], [\"mat-header-cell\", \"\", 2, \"width\", \"8%\"], [\"mat-cell\", \"\"], [\"width\", \"47px\", 1, \"p-1\", 3, \"src\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 2, \"width\", \"10%\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 2, \"width\", \"25%\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 2, \"width\", \"19%\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 2, \"width\", \"16%\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function InventoryComponent_Admin_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h1\", 2);\n        i0.ɵɵtext(3, \"Danh s\\u00E1ch s\\u1EA3n ph\\u1EA9m t\\u1ED3n kho\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"table\", 5);\n        i0.ɵɵelementContainerStart(7, 6);\n        i0.ɵɵtemplate(8, InventoryComponent_Admin_th_8_Template, 1, 0, \"th\", 7);\n        i0.ɵɵtemplate(9, InventoryComponent_Admin_td_9_Template, 2, 1, \"td\", 8);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(10, 9);\n        i0.ɵɵtemplate(11, InventoryComponent_Admin_th_11_Template, 2, 0, \"th\", 10);\n        i0.ɵɵtemplate(12, InventoryComponent_Admin_td_12_Template, 2, 1, \"td\", 8);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(13, 11);\n        i0.ɵɵtemplate(14, InventoryComponent_Admin_th_14_Template, 2, 0, \"th\", 12);\n        i0.ɵɵtemplate(15, InventoryComponent_Admin_td_15_Template, 2, 1, \"td\", 8);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(16, 13);\n        i0.ɵɵtemplate(17, InventoryComponent_Admin_th_17_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(18, InventoryComponent_Admin_td_18_Template, 2, 1, \"td\", 8);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(19, 15);\n        i0.ɵɵtemplate(20, InventoryComponent_Admin_th_20_Template, 2, 0, \"th\", 16);\n        i0.ɵɵtemplate(21, InventoryComponent_Admin_td_21_Template, 2, 1, \"td\", 8);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(22, InventoryComponent_Admin_tr_22_Template, 1, 0, \"tr\", 17);\n        i0.ɵɵtemplate(23, InventoryComponent_Admin_tr_23_Template, 1, 0, \"tr\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"mat-paginator\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 20);\n        i0.ɵɵelementStart(26, \"h3\");\n        i0.ɵɵtext(27, \"Top 10 s\\u1EA3n ph\\u1EA7m d\\u01B0 nhi\\u1EC1u nh\\u1EA5t\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"hr\");\n        i0.ɵɵelementStart(29, \"div\", 21);\n        i0.ɵɵelement(30, \"canvas\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"dataSource\", ctx.listData);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.columns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.columns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"length\", ctx.productsLength)(\"pageSize\", 10)(\"pageSizeOptions\", i0.ɵɵpureFunction0(6, _c0));\n      }\n    },\n    directives: [i3.MatTable, i4.MatSort, i3.MatColumnDef, i3.MatHeaderCellDef, i3.MatCellDef, i3.MatHeaderRowDef, i3.MatRowDef, i5.MatPaginator, i3.MatHeaderCell, i3.MatCell, i4.MatSortHeader, i3.MatHeaderRow, i3.MatRow],\n    styles: [\"table[_ngcontent-%COMP%]{width:100%}\"]\n  });\n  return InventoryComponent_Admin;\n})();","map":null,"metadata":{},"sourceType":"module"}