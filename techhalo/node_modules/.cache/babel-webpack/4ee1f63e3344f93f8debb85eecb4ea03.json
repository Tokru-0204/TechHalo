{"ast":null,"code":"import { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { Chart, registerables } from 'chart.js';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services_admin/statistical.service\";\nimport * as i2 from \"src/app/services_admin/page.service\";\nimport * as i3 from \"@angular/material/table\";\nimport * as i4 from \"@angular/material/sort\";\nimport * as i5 from \"@angular/material/paginator\";\nimport * as i6 from \"../../pipes/currency-vietnam.pipe\";\nfunction StatisticalCategoryComponent_Admin_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"STT\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StatisticalCategoryComponent_Admin_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r11 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i_r11 + 1);\n  }\n}\nfunction StatisticalCategoryComponent_Admin_th_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"T\\u00EAn lo\\u1EA1i h\\u00E0ng\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StatisticalCategoryComponent_Admin_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r12.name);\n  }\n}\nfunction StatisticalCategoryComponent_Admin_th_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"T\\u1ED5ng s\\u1EA3n ph\\u1EA9m b\\u00E1n \\u0111\\u01B0\\u1EE3c\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StatisticalCategoryComponent_Admin_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(row_r13.count);\n  }\n}\nfunction StatisticalCategoryComponent_Admin_th_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 18);\n    i0.ɵɵtext(1, \"T\\u1ED5ng thu nh\\u1EADp\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StatisticalCategoryComponent_Admin_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currencyVietnam\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, row_r14.amount));\n  }\n}\nfunction StatisticalCategoryComponent_Admin_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 21);\n  }\n}\nfunction StatisticalCategoryComponent_Admin_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 22);\n  }\n}\nconst _c0 = function () {\n  return [8, 25, 50, 100];\n};\nexport let StatisticalCategoryComponent_Admin = /*#__PURE__*/(() => {\n  class StatisticalCategoryComponent_Admin {\n    constructor(statisticalService, pageService) {\n      this.statisticalService = statisticalService;\n      this.pageService = pageService;\n      this.columns = ['index', 'name', 'count', 'amount'];\n      this.labelsCategory = [];\n      this.dataMoney = [];\n    }\n    ngOnInit() {\n      this.pageService.setPageActive('category-best-seller');\n      Chart.register(...registerables);\n      this.getCategoryBestSeller();\n    }\n    getCategoryBestSeller() {\n      this.statisticalService.getStatisticalBestSeller().subscribe(data => {\n        this.categoryBestSeller = data;\n        this.listData = new MatTableDataSource(this.categoryBestSeller);\n        this.listData.sort = this.sort;\n        this.listData.paginator = this.paginator;\n        this.lengthCategoryBestSeller = this.categoryBestSeller.length;\n        this.categoryBestSeller.forEach(item => {\n          this.dataMoney.push(item.amount);\n          this.labelsCategory.push(item.name);\n          console.log(item.name);\n        });\n        this.loadChartPie();\n      });\n    }\n    loadChartPie() {\n      this.myCharPie = new Chart('charCategory', {\n        type: 'pie',\n        data: {\n          labels: this.labelsCategory,\n          datasets: [{\n            label: 'My First Dataset',\n            data: this.dataMoney,\n            backgroundColor: ['rgb(255, 99, 132)', 'rgb(54, 162, 235)', 'rgb(255, 205, 86)', 'rgb(43, 99, 71)', 'rgb(43, 255, 222)', 'rgb(43, 113, 222)', 'rgb(43, 13, 222)'],\n            hoverOffset: 4\n          }]\n        }\n      });\n    }\n  }\n  StatisticalCategoryComponent_Admin.ɵfac = function StatisticalCategoryComponent_Admin_Factory(t) {\n    return new (t || StatisticalCategoryComponent_Admin)(i0.ɵɵdirectiveInject(i1.StatisticalService), i0.ɵɵdirectiveInject(i2.PageService));\n  };\n  StatisticalCategoryComponent_Admin.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StatisticalCategoryComponent_Admin,\n    selectors: [[\"app-statistical-category\"]],\n    viewQuery: function StatisticalCategoryComponent_Admin_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatSort, 5);\n        i0.ɵɵviewQuery(MatPaginator, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    decls: 24,\n    vars: 7,\n    consts: [[1, \"container-fluid\"], [1, \"d-sm-flex\", \"align-items-center\", \"justify-content-between\", \"mb-4\"], [1, \"h3\", \"mb-0\", \"text-gray-800\"], [1, \"row\"], [1, \"col-6\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"index\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"mat-cell\", \"\", \"style\", \"width: 30%;\", 4, \"matCellDef\"], [\"matColumnDef\", \"count\"], [\"matColumnDef\", \"amount\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 3, \"length\", \"pageSize\", \"pageSizeOptions\"], [\"id\", \"divChart\", 1, \"p-6\", \"col-4\", \"offset-1\", 2, \"margin-top\", \"-26px\"], [\"id\", \"charCategory\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-cell\", \"\", 2, \"width\", \"30%\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function StatisticalCategoryComponent_Admin_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h1\", 2);\n        i0.ɵɵtext(3, \"Th\\u1ED1ng k\\u00EA lo\\u1EA1i h\\u00E0ng b\\u00E1n ch\\u1EA1y nh\\u1EA5t\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"table\", 5);\n        i0.ɵɵelementContainerStart(7, 6);\n        i0.ɵɵtemplate(8, StatisticalCategoryComponent_Admin_th_8_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(9, StatisticalCategoryComponent_Admin_td_9_Template, 2, 1, \"td\", 8);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(10, 9);\n        i0.ɵɵtemplate(11, StatisticalCategoryComponent_Admin_th_11_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(12, StatisticalCategoryComponent_Admin_td_12_Template, 2, 1, \"td\", 10);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(13, 11);\n        i0.ɵɵtemplate(14, StatisticalCategoryComponent_Admin_th_14_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(15, StatisticalCategoryComponent_Admin_td_15_Template, 2, 1, \"td\", 8);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(16, 12);\n        i0.ɵɵtemplate(17, StatisticalCategoryComponent_Admin_th_17_Template, 2, 0, \"th\", 7);\n        i0.ɵɵtemplate(18, StatisticalCategoryComponent_Admin_td_18_Template, 3, 3, \"td\", 8);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(19, StatisticalCategoryComponent_Admin_tr_19_Template, 1, 0, \"tr\", 13);\n        i0.ɵɵtemplate(20, StatisticalCategoryComponent_Admin_tr_20_Template, 1, 0, \"tr\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"mat-paginator\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 16);\n        i0.ɵɵelement(23, \"canvas\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"dataSource\", ctx.listData);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.columns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.columns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"length\", ctx.lengthCategoryBestSeller)(\"pageSize\", 8)(\"pageSizeOptions\", i0.ɵɵpureFunction0(6, _c0));\n      }\n    },\n    directives: [i3.MatTable, i4.MatSort, i3.MatColumnDef, i3.MatHeaderCellDef, i3.MatCellDef, i3.MatHeaderRowDef, i3.MatRowDef, i5.MatPaginator, i3.MatHeaderCell, i4.MatSortHeader, i3.MatCell, i3.MatHeaderRow, i3.MatRow],\n    pipes: [i6.CurrencyVietnamPipe],\n    styles: [\"#divChart[_ngcontent-%COMP%]{display:block}table[_ngcontent-%COMP%]{width:100%}\"]\n  });\n  return StatisticalCategoryComponent_Admin;\n})();","map":null,"metadata":{},"sourceType":"module"}